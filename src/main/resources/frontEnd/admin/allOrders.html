<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="UTF-8">
    <title>all orders</title>
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">
    <!--    <script type="text/javascript" src="js/admin.js"></script>-->
    <script type="text/javascript" src="adminHeader.js"></script>
    <script type="text/javascript" src="loader.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', { 'packages': ['table'] });
        google.charts.setOnLoadCallback(drawTable);

        function drawTable() {
            let token = "Bearer "+"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbkBnbWFpbC5jb20iLCJyb2xlcyI6WyJST0xFX0FETUlOIiwiUk9MRV9VU0VSIl0sImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9sb2dpbiIsImV4cCI6MTY1NDUxNTcxN30.w1_2cHpnzqg9mo_6S2_LCTCtVl7-oNDFlVNMitp14rc";
            var xhttp = new XMLHttpRequest();
            xhttp.open("GET", "http://localhost:8081/Orders/customerOfOrders", true);
            xhttp.setRequestHeader("Authorization",token);
            xhttp.send();
            xhttp.onreadystatechange = function () {
                var tbody = document.getElementById("productTable").querySelector("tbody");
                tbody.innerHTML = "";
                if (this.readyState == 4 && this.status == 200) {
                    console.log(this.responseText);
                    JSON.parse(this.responseText).forEach(function (data, index) {
                        console.log(JSON.parse(this.responseText))
                        tbody.innerHTML +=
                            "<tr><td>" + data.id +
                            "</td>" + "<td>" + data.name +
                            "</td>" + "<td>" + data.category +
                            "</td>" + "<td>" + data.quantityAvailable +
                            "</td>" + "<td>" + data.price +
                            "</td>" + "<td>" + data.season +
                            "</td>" + "<td>" + data.soil +
                            "</td>" + "<td>" + data.numOrderd +
                            "</td>" + "<td>" + data.indoor +
                            "</td>" + "<td>" + data.active + "</td></tr>";
                    });
                }
            };
            var cssClassNames = {
                'headerRow': 'italic-green-font large-font bold-font',
                'tableRow': '',
                'oddTableRow': 'beige-background',
                'selectedTableRow': 'orange-background large-font',
                'hoverTableRow': '',
                'headerCell': 'gold-border',
                'tableCell': '',
                'rowNumberCell': 'underline-blue-font'
            };

            var options = { 'width': '100%', 'height': '50%', 'showRowNumber': true, 'allowHtml': true, 'cssClassNames': cssClassNames };
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Product Name');
            data.addColumn('string', 'User Fname');
            data.addColumn('date', 'Order date');
            data.addColumn('number', 'Quantity');
            data.addColumn('number', 'Price')
            data.addRows([
                ['Mike', 'abdo', new Date(2000, 8, 5), 5, 55],
                ['Jim', 'abdo', ss, 66, { v: 10000, f: '$10,000' }],
                ['Alice', 'abdo', new Date(2000, 8, 5), { v: 10000, f: '10,000' }, { v: 10000, f: '$10,000' }],
                ['Bob', 'abdo', new Date(2000, 8, 5), { v: 10000, f: '10,000' }, { v: 10000, f: '$10,000' }]
            ]);

            var table = new google.visualization.Table(document.getElementById('table_div'));

            table.draw(data, options);
        }
    </script>
    <style>
        .bold-green-font {
            font-weight: bold;
            color: green;
        }

        .bold-font {
            font-weight: bold;
        }

        .right-text {
            text-align: right;
        }

        .large-font {
            font-size: 15px;
        }

        .italic-darkblue-font {
            font-style: italic;
            color: darkblue;
        }

        .italic-purple-font {
            font-style: italic;
            color: purple;
        }

        .underline-blue-font {
            text-decoration: none;
            color: #406E3F;
        }

        .gold-border {
            border: 3px solid #406E3F;
        }

        .deeppink-border {
            border: 3px solid deeppink;
        }

        .orange-background {
            background-color: orange;
        }

        .orchid-background {
            background-color: orchid;
        }

        .beige-background {
            background-color: #8ed48d;
        }
    </style>
    <link href="css/theme.css" rel="stylesheet" media="all">
</head>

<body>
    <div id="header"></div>
    <div class="main">
        <div style="height: 60vh" id="table_div"></div>
    </div>

</body>

</html>